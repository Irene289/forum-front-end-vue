{"version":3,"sources":["webpack:///./src/views/User.vue?768a","webpack:///./src/components/UserProfileCard.vue?c756","webpack:///src/components/UserProfileCard.vue","webpack:///./src/components/UserProfileCard.vue?4e56","webpack:///./src/components/UserProfileCard.vue","webpack:///./src/components/UserFollowingsCard.vue?ca8d","webpack:///src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowingsCard.vue?1afc","webpack:///./src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowersCard.vue?19ee","webpack:///src/components/UserFollowersCard.vue","webpack:///./src/components/UserFollowersCard.vue?35dd","webpack:///./src/components/UserFollowersCard.vue","webpack:///./src/components/UserCommentsCard.vue?4b93","webpack:///src/components/UserCommentsCard.vue","webpack:///./src/components/UserCommentsCard.vue?438b","webpack:///./src/components/UserCommentsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?7e3f","webpack:///src/components/UserFavoritedRestaurantsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?042f","webpack:///./src/components/UserFavoritedRestaurantsCard.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","profile","isFollowed","followings","followers","comments","favoritedRestaurants","on","$event","$router","back","_v","staticRenderFns","_f","image","_s","name","email","commentsLength","favoritedRestaurantsLength","followingsLength","followersLength","params","id","stopPropagation","preventDefault","deleteFollowing","addFollowing","mixins","props","type","required","initialIsFollowed","data","watch","methods","userId","usersAPI","console","Toast","icon","title","component","length","_l","following","key","follower","comment","RestaurantId","Restaurant","favoritedRest","Favorite","components","UserProfileCard","UserFollowingsCard","UserFollowersCard","UserCommentsCard","UserFavoritedRestaurantsCard","isAdmin","created","fetchUser","beforeRouteUpdate","to","from","next","Comments","FavoritedRestaurants","Followers","Followings","computed","mapState"],"mappings":"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","file":"js/chunk-2d0ab43a.95374d59.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"album py-5 bg-light\"},[_c('div',{staticClass:\"container\"},[_c('UserProfileCard',{attrs:{\"profile\":_vm.profile,\"initial-is-followed\":_vm.isFollowed}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('UserFollowingsCard',{attrs:{\"followings\":_vm.followings}}),_c('br'),_c('UserFollowersCard',{attrs:{\"followers\":_vm.followers}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('UserCommentsCard',{attrs:{\"comments\":_vm.comments}}),_c('br'),_c('UserFavoritedRestaurantsCard',{attrs:{\"favorited-restaurants\":_vm.favoritedRestaurants}})],1)]),_c('hr'),_c('button',{staticClass:\"btn btn-link\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\" 回上一頁 \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImageFilter\")(_vm.profile.image),\"width\":\"300px\",\"height\":\"300px\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.profile.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.profile.email))]),_c('ul',{staticClass:\"list-unstyled list-inline\"},[_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.commentsLength))]),_vm._v(\" 已評論餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.favoritedRestaurantsLength))]),_vm._v(\" 收藏的餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.followingsLength))]),_vm._v(\" followings (追蹤者)\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.followersLength))]),_vm._v(\" followers (追隨者)\")])]),(_vm.profile.isAdmin)?[_c('router-link',{staticClass:\"btn btn-primary\",attrs:{\"to\":{ name: 'user-edit', params: { id: _vm.profile.id }}}},[_vm._v(\" Edit \")])]:[(_vm.isFollowed)?_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(_vm.profile.id)}}},[_vm._v(\" 取消追蹤 \")]):_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(_vm.profile.id)}}},[_vm._v(\" 追蹤 \")])]],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"row no-gutters\">\n      <div class=\"col-md-4\">\n        <img\n          :src=\"profile.image | emptyImageFilter\"\n          width=\"300px\"\n          height=\"300px\"\n        />\n      </div>\n      <div class=\"col-md-8\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{profile.name}}</h5>\n          <p class=\"card-text\">{{profile.email}}</p>\n          <ul class=\"list-unstyled list-inline\">\n            <li><strong>{{profile.commentsLength}}</strong> 已評論餐廳</li>\n            <li><strong>{{profile.favoritedRestaurantsLength}}</strong> 收藏的餐廳</li>\n            <li><strong>{{profile.followingsLength}}</strong> followings (追蹤者)</li>\n            <li><strong>{{profile.followersLength}}</strong> followers (追隨者)</li>\n          </ul>\n          <template v-if=\"profile.isAdmin\">\n            <router-link \n              :to=\"{ name: 'user-edit', params: { id: profile.id }}\"\n              class=\"btn btn-primary\"\n            >\n                Edit\n            </router-link>\n          </template>\n          <template v-else>\n            <button\n              v-if=\"isFollowed\"\n              type=\"button\"\n              class=\"btn btn-danger\"\n              @click.stop.prevent=\"deleteFollowing(profile.id)\"\n            >\n              取消追蹤\n            </button>\n            <button\n              v-else\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click.stop.prevent=\"addFollowing(profile.id)\"\n            >\n              追蹤\n            </button>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { emptyImageFilter } from './../utils/mixins'\nimport usersAPI from './../apis/users'\nimport { Toast } from './../utils/helpers'\n\nexport default {\n  name: 'UserProfileCard',\n  mixins: [emptyImageFilter],\n  props: {\n    profile: {\n      type: Object,\n      required: true\n    },\n    initialIsFollowed: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data () {\n    return {\n      isFollowed: this.initialIsFollowed\n    }\n  },\n  watch: {\n    initialIsFollowed (isFollowed) {\n      this.isFollowed = isFollowed\n    }\n  },\n  methods: {\n    async deleteFollowing (userId) {\n      try {\n        const { data } = await usersAPI.deleteFollowing({userId})\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.isFollowed = false\n\n      } catch (error) {\n        console.log('Error', error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法取消追蹤，請稍後再試'\n        })\n      }\n    },\n    async addFollowing (userId) {\n      try {\n        const { data } = await usersAPI.addFollowing({userId})\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.isFollowed = true\n\n      } catch (error) {\n        console.log('Error', error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法追蹤，請稍後再試'\n        })\n      }\n    },\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=a61f2456&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followings.length))]),_vm._v(\" followings (追蹤者)\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followings),function(following){return _c('router-link',{key:following.id,attrs:{\"to\":{ name: 'user', params: { id: following.id }}}},[_c('img',{staticClass:\"avatar mx-1\",attrs:{\"src\":_vm._f(\"emptyImageFilter\")(following.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\"><strong>{{followings.length}}</strong> followings (追蹤者)</div>\n    <div class=\"card-body\">\n      <router-link \n        v-for=\"following in followings\"\n        :key=\"following.id\"\n        :to=\"{ name: 'user', params: { id: following.id }}\"\n      >\n        <img\n          :src=\"following.image | emptyImageFilter\"\n          width=\"60\"\n          height=\"60\"\n          class=\"avatar mx-1\"\n        />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { emptyImageFilter } from './../utils/mixins'\n\nexport default {\n  name: 'UserFollowingsCard',\n  mixins: [emptyImageFilter],\n  props: {\n    followings: {\n      type: Array,\n      // default: () => [],\n      required: true\n    }\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingsCard.vue?vue&type=template&id=9d3ea066&\"\nimport script from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followers.length))]),_vm._v(\" followers (追隨者)\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followers),function(follower){return _c('router-link',{key:follower.id,attrs:{\"to\":{name: 'user', params: {id: follower.id}}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImageFilter\")(follower.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\"><strong>{{followers.length}}</strong> followers (追隨者)</div>\n    <div class=\"card-body\">\n      <router-link \n        v-for=\"follower in followers\"\n        :key=\"follower.id\"\n        :to=\"{name: 'user', params: {id: follower.id}}\"\n      >\n        <img\n          :src=\"follower.image | emptyImageFilter\"\n          width=\"60\"\n          height=\"60\"\n          class=\"avatar\"\n        />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { emptyImageFilter } from './../utils/mixins'\n\nexport default {\n  mixins: [emptyImageFilter],\n  props: {\n    followers: {\n      type: Array,\n      required: true\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=30d1b8ac&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.comments.length))]),_vm._v(\" 已評論餐廳\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.comments),function(comment){return _c('router-link',{key:comment.id,attrs:{\"to\":{name: 'restaurant', params: {id: comment.RestaurantId}}}},[_c('img',{staticClass:\"avatar m-1\",attrs:{\"src\":_vm._f(\"emptyImageFilter\")(comment.Restaurant.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\"><strong>{{comments.length}}</strong> 已評論餐廳</div>\n    <div class=\"card-body\">\n      <router-link \n        v-for=\"comment in comments\"\n        :key=\"comment.id\"\n        :to=\"{name: 'restaurant', params: {id: comment.RestaurantId}}\"\n      >\n        <img\n          :src=\"comment.Restaurant.image | emptyImageFilter\"\n          width=\"60\"\n          height=\"60\"\n          class=\"avatar m-1\"\n        />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { emptyImageFilter } from './../utils/mixins'\n\nexport default {\n  mixins: [emptyImageFilter],\n  props: {\n    comments: {\n      type: Array,\n      required: true\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentsCard.vue?vue&type=template&id=fd5ecdba&\"\nimport script from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.favoritedRestaurants.length))]),_vm._v(\" 收藏的餐廳\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.favoritedRestaurants),function(favoritedRest){return _c('router-link',{key:favoritedRest.id,attrs:{\"to\":{name: 'restaurant', params: {id: favoritedRest.Favorite.RestaurantId}}}},[_c('img',{staticClass:\"avatar m-1\",attrs:{\"src\":_vm._f(\"emptyImageFilter\")(favoritedRest.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\"><strong>{{favoritedRestaurants.length}}</strong> 收藏的餐廳</div>\n    <div class=\"card-body\">\n      <router-link \n        v-for=\"favoritedRest in favoritedRestaurants\"\n        :key=\"favoritedRest.id\"\n        :to=\"{name: 'restaurant', params: {id: favoritedRest.Favorite.RestaurantId}}\"\n      >\n        <img\n          :src=\"favoritedRest.image | emptyImageFilter\"\n          width=\"60\"\n          height=\"60\"\n          class=\"avatar m-1\"\n        />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { emptyImageFilter } from './../utils/mixins'\n\nexport default {\n  mixins: [emptyImageFilter],\n  props: {\n    favoritedRestaurants: {\n      type: Array,\n      required: true\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=6798fe4a&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"album py-5 bg-light\">\n    <div class=\"container\">\n      <!-- UserProfileCard -->\n      <UserProfileCard \n        :profile=\"profile\"\n        :initial-is-followed=\"isFollowed\"\n      />\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <!-- UserFollowingsCard -->\n          <UserFollowingsCard \n            :followings=\"followings\"\n          />\n          <br />\n          <!-- UserFollowersCard -->\n          <UserFollowersCard \n            :followers=\"followers\"\n          />\n        </div>\n        <div class=\"col-md-8\">\n          <!-- UserCommentsCard -->\n          <UserCommentsCard \n            :comments=\"comments\"\n          />\n          <br />\n          <!-- UserFavoritedRestaurantsCard -->\n          <UserFavoritedRestaurantsCard \n            :favorited-restaurants=\"favoritedRestaurants\"\n          />\n        </div>\n      </div>\n      <hr>\n      <button\n        type=\"button\"\n        class=\"btn btn-link\"\n        @click=\"$router.back()\"\n      >\n        回上一頁\n      </button>\n    </div>\n  </div>\n</template>>\n\n<script>\nimport UserProfileCard from \"./../components/UserProfileCard\"\nimport UserFollowingsCard from \"./../components/UserFollowingsCard\"\nimport UserFollowersCard from \"./../components/UserFollowersCard\"\nimport UserCommentsCard from \"./../components/UserCommentsCard\"\nimport UserFavoritedRestaurantsCard from \"./../components/UserFavoritedRestaurantsCard\"\nimport usersAPI from './../apis/users'\nimport { Toast } from './../utils/helpers'\nimport { mapState } from 'vuex'\n\nexport default {\n  components: {\n    UserProfileCard,\n    UserFollowingsCard,\n    UserFollowersCard,\n    UserCommentsCard,\n    UserFavoritedRestaurantsCard,\n  },\n  data () {\n    return {\n      profile: {\n        id: -1,\n        name: '',\n        email: '',\n        isAdmin: -1,\n        image: '',\n        commentsLength: 0,\n        favoritedRestaurantsLength: 0,\n        followersLength: 0,\n        followingsLength: 0 \n      },\n      comments: [],\n      favoritedRestaurants: [],\n      followers: [],\n      followings: [],\n      isFollowed: ''\n    }\n  },\n  created () {\n    const { id: userId } = this.$route.params\n    this.fetchUser(userId)\n  },\n  beforeRouteUpdate (to, from, next) {\n    // console.log({to})\n    const { id } = to.params\n    this.fetchUser(id)\n    next()\n  },\n  methods: {\n    async fetchUser (userId) {\n      try {\n        const { data } = await usersAPI.get({userId})\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        const { profile, isFollowed } = data\n\n        const {\n          id,\n          name,\n          email,\n          isAdmin,\n          image,\n          Comments,\n          FavoritedRestaurants,\n          Followers,\n          Followings\n        } = profile\n\n        this.profile = {\n          ...this.profile,\n          id,\n          name,\n          email,\n          image,\n          isAdmin,\n          commentsLength: Comments.length,\n          favoritedRestaurantsLength: FavoritedRestaurants.length,\n          followersLength: Followers.length,\n          followingsLength: Followings.length\n        }\n\n        this.comments = Comments.filter( comment => comment.text && comment.Restaurant.name )\n        this.favoritedRestaurants = FavoritedRestaurants\n        this.followers = Followers\n        this.followings = Followings\n        this.isFollowed = isFollowed\n\n      } catch (error) {\n        console.log('Error', error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得使用者資訊，請稍後再試'\n        })\n      }\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=6fa4d463&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}